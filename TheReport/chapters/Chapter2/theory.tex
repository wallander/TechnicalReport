\chapter{Theory}

\section{Android architecture}

Developing for the Android platform is done using the programming language Java. All calculations are written exactly as done when developing normal desktop applications. However, the Android operating system has very large influence on how applications are executed on the system. Most operating systems on PCs normally allow the user to run several applications concurrently in different windows that also can be viewed simultaneously. On an Android device, there is no native way of seeing what applications are running. The hardware buttons on the device are used to either close applications or send them to the background. Since there is no feedback on what happened to the application, it is important to handle such events in a consistent manner.
 
Gaining access to the surface of an Android device requires an implementation of the activity class. The first describing line in the Android API about activities is "An activity is a single, focused thing that the user can do" """"CITE"""". Basically, if you want to create an application that has to show something to the user you have to implement an activity. If you do not need to display anything you may use the service class, used for applications that can run in the background.

% <Image>
% Figure stuff..

As can be seen in """""figure XX""""""", onCreate(), onStart() and onResume() are all invoked as an activity is first created. Several other methods are also invoked whenever the operating system needs to manage memory shortage. Once the activity is up and running, it is important to handle these methods correctly. For instance, when a lot of variables are instantiated in the onStart()-method, memory leaks might occur if they are not set to null in the onStop()-method. Memory leaks can cause the entire device to slow down, which is something that can be very frustrating for users.
 
The graphical layout of an activity consists of classes called views. Views can be defined either procedurally while creating the activity, or by accessing predefined layouts from xml-files. In Android applications, views are both responsible for drawing images to the screen and for taking care of events generated from user interaction. For instance, a button is a view that can register listeners for onClick-events. Similarly, events generated by the trackball, hardware buttons and touch screen are also handled by views.

%----------------------------------------------------------
%----------------------------------------------------------
\subsection{Resources}

External resources are often used when developing for Android. Any type of file can be included to the binary files when building an application. If Eclipse is being used to develop the application, a file called R.java is generated whenever the resource directory is updated. This file contains translations from integer resource pointers to variable names that are easier to understand. When the application is built, the resource files are compiled into binary files that load fast and efficiently.  (http://developer.android.com/guide/topics/resources/resources-i18n.html)
 
The Android API (Android, 2010) specifies what directories are allowed in the root resources directory:
 
 - /res/anim/
This directory may contain XML files that describe the behaviour of animations. 
 
 - /res/drawable/
This directory may contain image files of the formats png, jpg or gif.
 
 - /res/layout/
This directory may contain XML files describing screen layouts.
 
 - /res/values/
This directory may contain XML files used to define values. As an example, text strings that are used in layouts may be defined here.
 
 - /res/raw/
This directory may contain raw files. Files like these may contain relevant data that isn't suitable to represent in XML files.
 
Accessing resources is done by invoking the method getResources() on the Context that is attached to the application. Context is an interface that is implemented by fundamental Android classes, such as Activity or Service. As stated in the Android API (Android 2010), " It allows access to application-specific resources and classes".
%----------------------------------------------------------
%----------------------------------------------------------
\subsection{Data storage}

The file system on Android differs from systems used on personal computers. On a computer, file system data files for one application can be read by any other application. On Android however data files created by one application is only readable to that application. Android has four different solutions to store and receive data from the file system on a mobile phone; preferences, files, databases and network. """"(Android 2010)"""" 

The preferences solution uses key-value pairs to write simple data types, such as texts to be loaded at the start of an application, or settings the user wants to save for next time he or she starts the application. This data is a lightweight method of writing and retrieving data, and is therefor recommended to use for simple data types. """"(Android 2010)""""

Another way to manage data storage is to use files. This is a basic way to handle data, where files are created and written to, and read from, the mobile phone's memory card. """"(Android 2010)"""""

Android also comes with the possibility of using databases for data storage. The type of database available on Android is SQLite. (Android 2010) SQLite is a lightweight database engine, built to suit devices with limited memory. It read and writes to files on the device's file system. "A complete SQL database with multiple tables, indices, triggers, and views, is contained in a single disk file." """"""(SQLite 2010)"""""

As long as the phone is connected, either to a 3G or a WiFi network, it is possible to use the network connection to send and receive data. """"(Android 2010)"""""
%----------------------------------------------------------
%----------------------------------------------------------
\subsection{XML}

XML which is an abbreviation for eXtensible Markup Language, is used for representing arbitrary data structures. In many areas XML is used to just store and retrieve data like a database, even if it is not as powerful as an SQL (Structured Query Language) database. For example the waves and paths for the game are stored in XML files. 

When working with the Android platform, storing and retrieving data is not the only thing you can do with XML. There is a built in XML-editor in the SDK (Software Development Kit) (sätt i vocabulary istället?which you can use to create Android activities. An activity is the window that will be shown on the screen. Inside that window is where all the graphics are put. The editor is very easy to use as it uses the drag-and-drop concept. You have several layout options like GridView, ListView, LinearLayout etc. to choose between and combine. There are also several view options like normal View, Button, Checkbox, TextView and much more. As mentioned before, items are dragged and dropped to the correct positions. There is also a property window for every item that gives access to customizing that particular item in the layout.

% <IMAGE>
% FIGURE

For each activity using a predefined layout, there has to be an XML file describing the layout. You can either create the whole layout in the XML-editor or just put a Relative Layout and solve the graphical issue with other techniques.

%----------------------------------------------------------
%----------------------------------------------------------
\subsection{Graphics}

There are three ways to handle graphics when working with Android. The first one is as mentioned above, using predefined layouts in XML files. The other two are with Canvas or OpenGL. Canvas provides simple tools like canvases, rectangles, color filters and bitmaps which let you draw pictures on the screen. It is handled like layers even if it is not exactly layers. The last object that is drawn on the canvas will be shown at the top. You only have to state where on the screen it will be drawn. Canvas only supports two axis, x and y coordinates versus OpenGL which has full support for 3D programming. That should be the main reason when choosing between them.
%----------------------------------------------------------
%----------------------------------------------------------
\subsection{Sound}

%----------------------------------------------------------